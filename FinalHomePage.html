<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kajwelo - Fashion & Style</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <link rel="stylesheet" href="./css/Finalhomepage.css" />

  <style>
    .hero {
      position: relative;
      min-height: 70vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background-position: center;
      background-size: cover;
      background-repeat: no-repeat;
    }

    .hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.25);
      pointer-events: none;
    }

    .hero-content {
      position: relative;
      z-index: 1;
      max-width: 900px;
      margin: 0 auto;
      padding: 2rem 2.5rem;
      border-radius: 16px;
      background: rgba(0, 0, 0, 0.45);
      color: #fff;
      text-align: center;
      backdrop-filter: blur(1px);
    }

    .hero-content h2 {
      font-weight: 700;
      line-height: 1.4;
      font-size: clamp(1.25rem, 2.5vw + 1rem, 2rem);
      margin-bottom: 1rem;
    }

    .cta-btn {
      background: linear-gradient(135deg, #667eea, #764ba2);
      border: none;
      color: #fff;
      padding: 0.75rem 1.25rem;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .cta-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.35);
    }

    @media (max-width: 576px) {
      .hero {
        min-height: 60vh;
      }
      .hero-content {
        padding: 1.25rem 1rem;
        border-radius: 12px;
      }
    }
  </style>
</head>

<body>
 

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <!-- <h1>Your Window to Style</h1> -->
      <h2>
        Discover and compare fashion from the Egyptian top local
        brandsâ€”effortlessly. Find your perfect style with Kajwelo.
      </h2>

      <button class="cta-btn">Explore Collection</button>
    </div>
  </section>

  <!-- Main Content -->
  <main class="main-content">
    <div class="section-header">
      <h2 class="section-title">Shop by Category</h2>
      <p class="section-subtitle">
        All the latest fashion trends and must-have products for every style
        preference.
      </p>
    </div>

    <!-- Category Grid -->
    <div class="category-grid">
      <div class="category-card women">
        <div class="category-content">
          <h3 class="category-title">Women's Fashion</h3>
          <p class="category-subtitle">
            All the latest fashion trends and must-have products.
          </p>
          <button class="category-btn" onclick="location.href='/Pages/womenCollection.html'">
            Shop Women
          </button>
        </div>
      </div>

      <div class="category-card men">
        <div class="category-content">
          <h3 class="category-title">Men's Fashion</h3>
          <p class="category-subtitle">
            Find the perfect t-shirt, your new go-to sneakers and more right
            here.
          </p>
          <button class="category-btn" onclick="location.href='/Pages/MenCollection.html'">
            Shop Men
          </button>
        </div>
      </div>
    </div>

    <!-- Best Sellers Section -->
    <section class="best-sellers">
      <div class="section-header">
        <h2 class="section-title">Recent Products</h2>
        <p class="section-subtitle">
          Discover our most popular items loved by fashion enthusiasts
          worldwide.
        </p>
      </div>

      <!-- Change this line in your HTML -->
      <div class="products-grid" id="productsGrid"></div>
      

      <div class="section-cta">
        <button class="view-all-btn" onclick="location.href='/Pages/productWithFilteration.html'">View All Products</button>
      </div>
    </section>
    </div>
    <!-- Featured Brands Section -->
    <section class="featured-brands">
      <div class="section-header">
        <h2 class="section-title">Featured Brands</h2>
        <p class="section-subtitle">
          Shop from the world's most trusted fashion brands.
        </p>
      </div>

      <div class="brands-carousel">
        <div class="brands-track">
          <div class="brand-logo nike">NIKE</div>
          <div class="brand-logo adidas">ADIDAS</div>
          <div class="brand-logo zara">ZARA</div>
          <div class="brand-logo hnm">H&M</div>
          <div class="brand-logo gucci">GUCCI</div>
          <div class="brand-logo prada">PRADA</div>
          <div class="brand-logo versace">VERSACE</div>
          <div class="brand-logo calvin">CALVIN<br />KLEIN</div>
          <!-- Duplicate for seamless loop -->
          <div class="brand-logo nike">NIKE</div>
          <div class="brand-logo adidas">ADIDAS</div>
          <div class="brand-logo zara">ZARA</div>
          <div class="brand-logo hnm">H&M</div>
          <div class="brand-logo gucci">GUCCI</div>
          <div class="brand-logo prada">PRADA</div>
          <div class="brand-logo versace">VERSACE</div>
          <div class="brand-logo calvin">CALVIN<br />KLEIN</div>
        </div>
      </div>
    </section>
  </main>

  <!-- Features Section -->
  <section class="features">
    <div class="features-grid">
      <div class="feature-card">
        <div class="feature-icon">ðŸšš</div>
        <h4 class="feature-title">Free Shipping</h4>
        <p class="feature-desc">
          Free shipping on orders over $50. Fast and reliable delivery
          worldwide.
        </p>
      </div>

      <div class="feature-card">
        <div class="feature-icon">ðŸ”„</div>
        <h4 class="feature-title">Easy Returns</h4>
        <p class="feature-desc">
          30-day return policy. Shop with confidence and return if not
          satisfied.
        </p>
      </div>

      <div class="feature-card">
        <div class="feature-icon">ðŸ’Ž</div>
        <h4 class="feature-title">Premium Quality</h4>
        <p class="feature-desc">
          Curated selection of high-quality products from trusted brands.
        </p>
      </div>
    </div>
  </section>

  <script src="/utils/slider.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <script type="module">
    import { Auth } from "../utils/auth.js";
    import { Storage } from "../utils/localStorageHelper.js";
    import { Seller } from "../models/Seller.js";
    import { retrive } from "../models/Filteration.js";
    import { renderProducts as displayall } from "../cardGeneratot/card.js";

    Auth.apply_Autherization();
    function toggleMenu() {
      const navMenu = document.getElementById("navMenu");
      navMenu.classList.toggle("active");
    }

    // Close mobile menu when clicking on a link
    document.querySelectorAll(".nav-link").forEach((link) => {
      link.addEventListener("click", () => {
        document.getElementById("navMenu").classList.remove("active");
      });
    });

    //////////////////////////////////////new

    const recentproducts = retrive.allProducts().products.slice(0, 4);


    displayall(recentproducts, "productsGrid", "");

    ///////////////////////////

    // Dynamically render brands carousel from sellers' brandName
    (function renderBrandLogos() {
      try {
        const brandsTrack = document.querySelector('.brands-track');
        if (!brandsTrack) return;

        const users = Storage.get('users', []);
        const sellers = users.filter(u => u instanceof Seller);
        const uniqueBrandNames = Array.from(new Set(
          sellers
            .map(s => s?.brandName)
            .filter(name => typeof name === 'string' && name.trim().length > 0)
        ));

        const brandItems = uniqueBrandNames.length > 0 ? uniqueBrandNames : ['Your Brand'];

        // Randomly assign a class from existing theme classes for color/style
        const styleClasses = ['nike','adidas','zara','hnm','gucci','prada','versace','calvin'];
        const entries = brandItems.map(name => ({
          name,
          cls: styleClasses[Math.floor(Math.random() * styleClasses.length)]
        }));

        const escapeHtml = (s) => s.replace(/</g, '&lt;').replace(/>/g, '&gt;');
        const renderEntries = (arr) => arr
          .map(({name, cls}) => `<div class="brand-logo ${cls}">${escapeHtml(name)}</div>`) 
          .join('');

        // Duplicate for seamless loop, preserving classes
        brandsTrack.innerHTML = renderEntries(entries) + renderEntries(entries);
      } catch (err) {
        console.error('Failed to render brands carousel:', err);
      }
    })();

    // Close mobile menu when clicking outside
    document.addEventListener("click", (e) => {
      const navMenu = document.getElementById("navMenu");
      const mobileBtn = document.querySelector(".mobile-menu-btn");

      if (!navMenu.contains(e.target) && !mobileBtn.contains(e.target)) {
        navMenu.classList.remove("active");
      }
    });

    // Add smooth scrolling for CTA button
    document.querySelector(".cta-btn").addEventListener("click", () => {
      document.querySelector(".main-content").scrollIntoView({
        behavior: "smooth",
      });
    });
  </script>
  <script src="./utils/logout.js" type="module"></script>
</body>

</html>