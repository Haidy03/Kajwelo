<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Display Products</title>
    <link rel="stylesheet" href="../CSS/Finalhomepage.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>


<div id="productssection"></div>




<script type="module">
import { Storage } from "../utils/localStorageHelper.js";
import { Seller } from "../models/Seller.js";
import { retrive } from "../models/Filteration.js";
import { renderProducts } from "/cardGeneratot/card.js";
//import { Seeder } from "../JS/seeding.js"

document.addEventListener("DOMContentLoaded", function () {

 //Seeder.run()
    // Extract brand from URL
    const urlParams = new URLSearchParams(window.location.search);
    let brandName = decodeURIComponent(urlParams.get('brand'));

    let productsArray = [];
    let pageTitle = `${brandName}'s Products`;

    // Retrieve products for the given brand
    const result = retrive.allProductsByBrand(brandName);
    productsArray = result.products || []; 

    const productsSection = document.getElementById("productssection");

    if (productsArray.length === 0) {
        // Show message if no products found
        productsSection.innerHTML = `
            <div class="text-center my-5">
              <br/> <br/>
                <h3>No products found for <strong>${brandName}</strong>.</h3>
                <p>Please check back later or explore other brands.</p>
            </div>
        `;
    } else {
        // Render products if available
        renderProducts(productsArray, "productssection", pageTitle);
    }
});
</script>



   <script type="module" src="../utils/logout.js"></script>
       <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  </body>
</html>